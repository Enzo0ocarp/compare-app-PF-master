[debug] [2025-02-03T21:30:39.698Z] ----------------------------------------------------------------------
[debug] [2025-02-03T21:30:39.701Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\enzit\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2025-02-03T21:30:39.701Z] CLI Version:   13.29.3
[debug] [2025-02-03T21:30:39.702Z] Platform:      win32
[debug] [2025-02-03T21:30:39.702Z] Node Version:  v22.13.1
[debug] [2025-02-03T21:30:39.702Z] Time:          Mon Feb 03 2025 18:30:39 GMT-0300 (hora estÃ¡ndar de Argentina)
[debug] [2025-02-03T21:30:39.702Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-02-03T21:30:39.976Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-02-03T21:30:39.976Z] > authorizing via signed-in user (cartaspoke2@gmail.com)
[debug] [2025-02-03T21:30:39.977Z] [iam] checking project compareapp-43d31 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-02-03T21:30:39.978Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:39.978Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:39.980Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions [none]
[debug] [2025-02-03T21:30:39.980Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions x-goog-quota-user=projects/compareapp-43d31
[debug] [2025-02-03T21:30:39.980Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-02-03T21:30:41.046Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions 200
[debug] [2025-02-03T21:30:41.046Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-02-03T21:30:41.047Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:41.047Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:41.047Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/compareapp-43d31/serviceAccounts/compareapp-43d31@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-02-03T21:30:41.047Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/compareapp-43d31/serviceAccounts/compareapp-43d31@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-02-03T21:30:42.100Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/compareapp-43d31/serviceAccounts/compareapp-43d31@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-02-03T21:30:42.100Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/compareapp-43d31/serviceAccounts/compareapp-43d31@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'compareapp-43d31'...
[info] 
[info] i  deploying functions 
[debug] [2025-02-03T21:30:42.105Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:42.105Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:42.105Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31 [none]
[debug] [2025-02-03T21:30:42.351Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31 200
[debug] [2025-02-03T21:30:42.351Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31 {"projectNumber":"262262721422","projectId":"compareapp-43d31","lifecycleState":"ACTIVE","name":"CompareApp","labels":{"firebase":"enabled"},"createTime":"2024-11-06T00:09:03.056917Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2025-02-03T21:30:42.354Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:42.354Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:42.355Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:42.355Z] Checked if tokens are valid: true, expires at: 1738620513900
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2025-02-03T21:30:42.355Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:42.356Z] Checked if tokens are valid: true, expires at: 1738620513900
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-02-03T21:30:42.356Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:42.356Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:42.356Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/cloudfunctions.googleapis.com [none]
[debug] [2025-02-03T21:30:42.356Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/compareapp-43d31
[debug] [2025-02-03T21:30:42.358Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/runtimeconfig.googleapis.com [none]
[debug] [2025-02-03T21:30:42.358Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/compareapp-43d31
[debug] [2025-02-03T21:30:42.360Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/cloudbuild.googleapis.com [none]
[debug] [2025-02-03T21:30:42.360Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/cloudbuild.googleapis.com x-goog-quota-user=projects/compareapp-43d31
[debug] [2025-02-03T21:30:42.361Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/artifactregistry.googleapis.com [none]
[debug] [2025-02-03T21:30:42.361Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/artifactregistry.googleapis.com x-goog-quota-user=projects/compareapp-43d31
[debug] [2025-02-03T21:30:43.565Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/cloudbuild.googleapis.com 200
[debug] [2025-02-03T21:30:43.565Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2025-02-03T21:30:43.602Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/runtimeconfig.googleapis.com 200
[debug] [2025-02-03T21:30:43.602Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/runtimeconfig.googleapis.com [omitted]
[debug] [2025-02-03T21:30:43.604Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/cloudfunctions.googleapis.com 200
[debug] [2025-02-03T21:30:43.604Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2025-02-03T21:30:43.653Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/artifactregistry.googleapis.com 200
[debug] [2025-02-03T21:30:43.653Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/compareapp-43d31/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2025-02-03T21:30:43.654Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:43.654Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:43.654Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/compareapp-43d31/adminSdkConfig [none]
[debug] [2025-02-03T21:30:44.201Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/compareapp-43d31/adminSdkConfig 200
[debug] [2025-02-03T21:30:44.201Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/compareapp-43d31/adminSdkConfig {"projectId":"compareapp-43d31","storageBucket":"compareapp-43d31.firebasestorage.app"}
[debug] [2025-02-03T21:30:44.202Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:44.202Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:44.202Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/compareapp-43d31/configs [none]
[debug] [2025-02-03T21:30:44.758Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/compareapp-43d31/configs 200
[debug] [2025-02-03T21:30:44.758Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/compareapp-43d31/configs {}
[debug] [2025-02-03T21:30:44.759Z] Validating nodejs source
[warn] !  functions: Runtime Node.js 18 will be deprecated on 2025-04-30 and will be decommissioned on 2025-10-31, after which you will not be able to deploy without upgrading. Consider upgrading now to avoid disruption. See https://cloud.google.com/functions/docs/runtime-support for full details on the lifecycle policy 
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-02-03T21:30:46.116Z] > [functions] package.json contents: {
  "name": "functions",
  "main": "src/backend/index.js",
  "engines": {
    "node": "18"
  },
  "scripts": {
    "build": "echo 'No build required'",
    "serve": "firebase emulators:start --only functions",
    "deploy": "firebase deploy --only functions"
  },
  "dependencies": {
    "firebase-admin": "^11.11.0",
    "firebase-functions": "^4.6.0",
    "express": "^4.18.2",
    "cors": "^2.8.5"
  }
}
[debug] [2025-02-03T21:30:46.117Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[info] i  functions: You are using a version of firebase-functions SDK (4.9.0) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-02-03T21:30:46.119Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-02-03T21:30:46.131Z] Found firebase-functions binary at 'C:\Users\enzit\OneDrive\Documentos\GitHub\compare-app-PF-master\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8039

[debug] [2025-02-03T21:30:47.098Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\enzit\OneDrive\Documentos\GitHub\compare-app-PF-master\functions (41.14 KB) for uploading 
[debug] [2025-02-03T21:30:51.224Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:51.224Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:51.225Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/-/functions [none]
[debug] [2025-02-03T21:30:52.446Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/-/functions 200
[debug] [2025-02-03T21:30:52.446Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/-/functions {}
[debug] [2025-02-03T21:30:52.447Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:52.447Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:52.447Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/compareapp-43d31/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-02-03T21:30:53.672Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/compareapp-43d31/locations/-/functions 200
[debug] [2025-02-03T21:30:53.672Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/compareapp-43d31/locations/-/functions {}
[debug] [2025-02-03T21:30:53.676Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:53.676Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:53.677Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31 [none]
[debug] [2025-02-03T21:30:54.698Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31 200
[debug] [2025-02-03T21:30:54.699Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31 {"projectNumber":"262262721422","projectId":"compareapp-43d31","lifecycleState":"ACTIVE","name":"CompareApp","labels":{"firebase":"enabled"},"createTime":"2024-11-06T00:09:03.056917Z"}
[debug] [2025-02-03T21:30:54.700Z] [functions] found 1 new HTTP functions, testing setIamPolicy permission...
[debug] [2025-02-03T21:30:54.700Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:54.700Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:54.701Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions [none]
[debug] [2025-02-03T21:30:54.701Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions x-goog-quota-user=projects/compareapp-43d31
[debug] [2025-02-03T21:30:54.701Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2025-02-03T21:30:54.899Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions 200
[debug] [2025-02-03T21:30:54.899Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/compareapp-43d31:testIamPermissions {"permissions":["cloudfunctions.functions.setIamPolicy"]}
[debug] [2025-02-03T21:30:54.900Z] [functions] found setIamPolicy permission, proceeding with deploy
[debug] [2025-02-03T21:30:54.900Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:54.900Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:30:54.901Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-02-03T21:30:54.901Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-02-03T21:31:04.489Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-02-03T21:31:04.490Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-64093936116.us-central1.cloudfunctions.appspot.com/c0eae95e-6467-4a2e-bc76-aa681eb164c2.zip?GoogleAccessId=service-262262721422@gcf-admin-robot.iam.gserviceaccount.com&Expires=1738620064&Signature=n3R1ZQnNxuZstwcjXYYU4t9GcBxtmNLTk5FBrA2GLR20N4w5TGNmDSvSSGN0HLVZvHWpOlVWHnM5ZeIG%2BiIrYqSb8OpjtDTELAAM2D7TX4IgLDnCNTrNALmAELo2upk%2BVrBHQZtForpxGKlu7hHY9Jk6DDVeMn%2FNg9%2Feq3OZIEgWcnPNohc5aGi538JIpB4wNdspQCqa5K5g9soK16lq%2BUuDvfELJUKouw1vTiKCM46K3uDqkLPiWEZyJuKHdv9ewOmP0hnafphuudhUP31eTJHJlFHX9nMFqzeYGL9jPIe7ZXPxBcPQrkDNkIpLWNZBxdV5ne677AgbTz6hKGIMjQ%3D%3D"}
[debug] [2025-02-03T21:31:04.491Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-64093936116.us-central1.cloudfunctions.appspot.com/c0eae95e-6467-4a2e-bc76-aa681eb164c2.zip GoogleAccessId=service-262262721422%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1738620064&Signature=n3R1ZQnNxuZstwcjXYYU4t9GcBxtmNLTk5FBrA2GLR20N4w5TGNmDSvSSGN0HLVZvHWpOlVWHnM5ZeIG%2BiIrYqSb8OpjtDTELAAM2D7TX4IgLDnCNTrNALmAELo2upk%2BVrBHQZtForpxGKlu7hHY9Jk6DDVeMn%2FNg9%2Feq3OZIEgWcnPNohc5aGi538JIpB4wNdspQCqa5K5g9soK16lq%2BUuDvfELJUKouw1vTiKCM46K3uDqkLPiWEZyJuKHdv9ewOmP0hnafphuudhUP31eTJHJlFHX9nMFqzeYGL9jPIe7ZXPxBcPQrkDNkIpLWNZBxdV5ne677AgbTz6hKGIMjQ%3D%3D
[debug] [2025-02-03T21:31:04.491Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-64093936116.us-central1.cloudfunctions.appspot.com/c0eae95e-6467-4a2e-bc76-aa681eb164c2.zip [stream]
[debug] [2025-02-03T21:31:06.396Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-64093936116.us-central1.cloudfunctions.appspot.com/c0eae95e-6467-4a2e-bc76-aa681eb164c2.zip 200
[debug] [2025-02-03T21:31:06.397Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-64093936116.us-central1.cloudfunctions.appspot.com/c0eae95e-6467-4a2e-bc76-aa681eb164c2.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 18 (1st Gen) function api(us-central1)... 
[debug] [2025-02-03T21:31:06.402Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:06.403Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:06.403Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/us-central1/functions [none]
[debug] [2025-02-03T21:31:06.403Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/us-central1/functions {"name":"projects/compareapp-43d31/locations/us-central1/functions/api","sourceUploadUrl":"https://storage.googleapis.com/uploads-64093936116.us-central1.cloudfunctions.appspot.com/c0eae95e-6467-4a2e-bc76-aa681eb164c2.zip?GoogleAccessId=service-262262721422@gcf-admin-robot.iam.gserviceaccount.com&Expires=1738620064&Signature=n3R1ZQnNxuZstwcjXYYU4t9GcBxtmNLTk5FBrA2GLR20N4w5TGNmDSvSSGN0HLVZvHWpOlVWHnM5ZeIG%2BiIrYqSb8OpjtDTELAAM2D7TX4IgLDnCNTrNALmAELo2upk%2BVrBHQZtForpxGKlu7hHY9Jk6DDVeMn%2FNg9%2Feq3OZIEgWcnPNohc5aGi538JIpB4wNdspQCqa5K5g9soK16lq%2BUuDvfELJUKouw1vTiKCM46K3uDqkLPiWEZyJuKHdv9ewOmP0hnafphuudhUP31eTJHJlFHX9nMFqzeYGL9jPIe7ZXPxBcPQrkDNkIpLWNZBxdV5ne677AgbTz6hKGIMjQ%3D%3D","entryPoint":"api","runtime":"nodejs18","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"016ccc6054488ce8992364e8972462aa16adbc15"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"compareapp-43d31\",\"storageBucket\":\"compareapp-43d31.firebasestorage.app\"}","GCLOUD_PROJECT":"compareapp-43d31","EVENTARC_CLOUD_EVENT_SOURCE":"projects/compareapp-43d31/locations/us-central1/functions/api"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-02-03T21:31:06.891Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/us-central1/functions 403
[debug] [2025-02-03T21:31:06.891Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/us-central1/functions {"error":{"code":403,"message":"Write access to project 'compareapp-43d31' was denied: please check billing account associated and retry","status":"PERMISSION_DENIED"}}
[warn] !  functions: failed to create function projects/compareapp-43d31/locations/us-central1/functions/api 
[error] Failed to create function projects/compareapp-43d31/locations/us-central1/functions/api
[debug] [2025-02-03T21:31:06.899Z] Total Function Deployment time: 493
[debug] [2025-02-03T21:31:06.899Z] 1 Functions Deployed
[debug] [2025-02-03T21:31:06.899Z] 1 Functions Errored
[debug] [2025-02-03T21:31:06.899Z] 0 Function Deployments Aborted
[debug] [2025-02-03T21:31:06.899Z] Average Function Deployment time: 492
[info] 
[info] Functions deploy had errors with the following functions:
	api(us-central1)
[debug] [2025-02-03T21:31:07.057Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[info] i  functions: cleaning up build files... 
[debug] [2025-02-03T21:31:07.058Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:07.058Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:07.059Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:07.059Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:07.059Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/compareapp-43d31/locations/us-central1/repositories/gcf-artifacts/packages/api [none]
[debug] [2025-02-03T21:31:07.060Z] >>> [apiv2][query] GET https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list [none]
[debug] [2025-02-03T21:31:08.420Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/compareapp-43d31/locations/us-central1/repositories/gcf-artifacts/packages/api 403
[debug] [2025-02-03T21:31:08.420Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/compareapp-43d31/locations/us-central1/repositories/gcf-artifacts/packages/api {"error":{"code":403,"message":"This API method requires billing to be enabled. Please enable billing on project #compareapp-43d31 by visiting https://console.developers.google.com/billing/enable?project=compareapp-43d31 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry.","status":"PERMISSION_DENIED","details":[{"@type":"type.googleapis.com/google.rpc.ErrorInfo","reason":"BILLING_DISABLED","domain":"googleapis.com","metadata":{"containerInfo":"compareapp-43d31","consumer":"projects/compareapp-43d31","service":"artifactregistry.googleapis.com"}},{"@type":"type.googleapis.com/google.rpc.LocalizedMessage","locale":"en-US","message":"This API method requires billing to be enabled. Please enable billing on project #compareapp-43d31 by visiting https://console.developers.google.com/billing/enable?project=compareapp-43d31 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry."},{"@type":"type.googleapis.com/google.rpc.Help","links":[{"description":"Google developers console billing","url":"https://console.developers.google.com/billing/enable?project=compareapp-43d31"}]}]}}
[debug] [2025-02-03T21:31:08.791Z] <<< [apiv2][status] GET https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list 403
[debug] [2025-02-03T21:31:08.791Z] <<< [apiv2][body] GET https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list {"errors":[{"code":"DENIED","message":"This API method requires billing to be enabled. Please enable billing on project #262262721422 by visiting https://console.developers.google.com/billing/enable?project=262262721422 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry."}]}
[debug] [2025-02-03T21:31:08.791Z] Failed docker command with error  Request to https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list had HTTP Error: 403, Unknown Error {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"DENIED","message":"This API method requires billing to be enabled. Please enable billing on project #262262721422 by visiting https://console.developers.google.com/billing/enable?project=262262721422 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry."}],"error":{"message":"Unknown Error"}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list had HTTP Error: 403, Unknown Error","status":403}
[debug] [2025-02-03T21:31:08.801Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:08.802Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:08.802Z] >>> [apiv2][query] GET https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list [none]
[debug] [2025-02-03T21:31:09.102Z] <<< [apiv2][status] GET https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list 403
[debug] [2025-02-03T21:31:09.103Z] <<< [apiv2][body] GET https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list {"errors":[{"code":"DENIED","message":"This API method requires billing to be enabled. Please enable billing on project #262262721422 by visiting https://console.developers.google.com/billing/enable?project=262262721422 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry."}]}
[debug] [2025-02-03T21:31:09.103Z] Failed docker command with error  Request to https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list had HTTP Error: 403, Unknown Error {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"DENIED","message":"This API method requires billing to be enabled. Please enable billing on project #262262721422 by visiting https://console.developers.google.com/billing/enable?project=262262721422 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry."}],"error":{"message":"Unknown Error"}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list had HTTP Error: 403, Unknown Error","status":403}
[debug] [2025-02-03T21:31:09.207Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:09.207Z] Checked if tokens are valid: true, expires at: 1738620513900
[debug] [2025-02-03T21:31:09.207Z] >>> [apiv2][query] GET https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list [none]
[debug] [2025-02-03T21:31:09.775Z] <<< [apiv2][status] GET https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list 403
[debug] [2025-02-03T21:31:09.775Z] <<< [apiv2][body] GET https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list {"errors":[{"code":"DENIED","message":"This API method requires billing to be enabled. Please enable billing on project #262262721422 by visiting https://console.developers.google.com/billing/enable?project=262262721422 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry."}]}
[debug] [2025-02-03T21:31:09.775Z] Failed docker command with error  Request to https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list had HTTP Error: 403, Unknown Error {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"DENIED","message":"This API method requires billing to be enabled. Please enable billing on project #262262721422 by visiting https://console.developers.google.com/billing/enable?project=262262721422 then retry. If you enabled billing for this project recently, wait a few minutes for the action to propagate to our systems and retry."}],"error":{"message":"Unknown Error"}},"response":{"statusCode":403}},"exit":1,"message":"Request to https://us.gcr.io/v2/compareapp-43d31/gcf/us-central1/tags/list had HTTP Error: 403, Unknown Error","status":403}
[warn] !  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at
	https://console.cloud.google.com/artifacts/docker/compareapp-43d31/us-central1/gcf-artifacts
	https://console.cloud.google.com/gcr/images/compareapp-43d31/us/gcf 
[debug] [2025-02-03T21:31:09.777Z] Functions deploy failed.
[debug] [2025-02-03T21:31:09.777Z] {
  "endpoint": {
    "id": "api",
    "project": "compareapp-43d31",
    "region": "us-central1",
    "entryPoint": "api",
    "platform": "gcfv1",
    "runtime": "nodejs18",
    "httpsTrigger": {},
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"compareapp-43d31\",\"storageBucket\":\"compareapp-43d31.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "compareapp-43d31",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/compareapp-43d31/locations/us-central1/functions/api"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "016ccc6054488ce8992364e8972462aa16adbc15",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/compareapp-43d31/locations/us-central1/functions/api"
    },
    "exit": 1,
    "message": "Failed to create function projects/compareapp-43d31/locations/us-central1/functions/api",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 403,
            "message": "Write access to project 'compareapp-43d31' was denied: please check billing account associated and retry",
            "status": "PERMISSION_DENIED"
          }
        },
        "response": {
          "statusCode": 403
        }
      },
      "exit": 1,
      "message": "Request to https://cloudfunctions.googleapis.com/v1/projects/compareapp-43d31/locations/us-central1/functions had HTTP Error: 403, Write access to project 'compareapp-43d31' was denied: please check billing account associated and retry",
      "status": 403
    },
    "status": 403,
    "code": 403
  }
}
[debug] [2025-02-03T21:31:09.837Z] Error: Failed to create function api in region us-central1
    at C:\Users\enzit\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:52:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.createV1Function (C:\Users\enzit\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:182:32)
    at async Fabricator.createEndpoint (C:\Users\enzit\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:134:13)
    at async handle (C:\Users\enzit\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
